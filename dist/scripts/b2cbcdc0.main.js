!function(){window.Rs=Ember.Application.create({LOG_TRANSITIONS:!0})}(),function(){Rs.ContactsController=Ember.Controller.extend({actions:{save:function(){var a=this.store.createRecord("contact",{firstname:this.get("firstname"),lastname:this.get("lastname"),birthdate:this.get("birthdate"),address:this.get("address"),phone:this.get("phone"),email:this.get("email"),webaddress:this.get("webaddress"),spouse:this.get("spouse"),children:this.get("children")});a.save(),this.transitionToRoute("contacts")}}})}(),function(){Rs.EventsController=Ember.Controller.extend({actions:{save:function(){var a=this.store.createRecord("event",{title:this.get("title"),date:this.get("date"),time:this.get("time"),post:this.get("post")});a.save(),this.transitionToRoute("events")}}})}(),function(){Rs.FeedbackController=Ember.Controller.extend({actions:{save:function(){if(this.get("text")){var a=this.store.createRecord("feedback",{name:this.get("name"),date:(new Date).toDateString(),text:this.get("text")});a.save(),this.transitionToRoute("feedback")}}}})}(),function(){Rs.NewsController=Ember.Controller.extend({actions:{save:function(){var a=this.store.createRecord("news",{title:this.get("title"),post:this.get("post"),imageURL:this.get("imageURL")});a.save(),this.transitionToRoute("news")}}})}(),function(){Rs.RecipeEditController=Ember.ObjectController.extend({actions:{update:function(){this.model.save(),this.transitionToRoute("recipe",this.get("id"))}}})}(),function(){Rs.RecipesController=Ember.Controller.extend({showIngredients:!0,showDirections:!0,splitDirections:function(){return this.get("directions").split(",")}.property("directions"),splitIngredients:function(){return this.get("ingredients").split(",")}.property("ingredients"),actions:{toggleDirections:function(){this.toggleProperty("showDirections")},toggleIngredients:function(){this.toggleProperty("showIngredients")},save:function(){var a=this.store.createRecord("recipe",{name:this.get("name"),category:this.get("category"),imageURL:this.get("imageURL"),ingredients:this.get("ingredients"),directions:this.get("directions")});a.save()},destroy:function(){confirm("Are you sure you want to delete this recipe?")&&(this.get("model").deleteRecord(),this.get("model").save(),this.transitionToRoute("index"))}}})}(),function(){Rs.Firebase=new Firebase("https://relatively-speaking.firebaseIO.com"),Rs.ApplicationAdapter=DS.FirebaseAdapter.extend({firebase:Rs.Firebase})}(),function(){Rs.Feedback=DS.Model.extend({firstname:DS.attr("string"),lastname:DS.attr("string"),birthdate:DS.attr("date"),address:DS.attr("string"),phone:DS.attr("string"),email:DS.attr("string"),webaddress:DS.attr("string"),spouse:DS.attr("boolean",{defaultValue:!0}),children:DS.attr("boolean",{defaultValue:!0})})}(),function(){Rs.Event=DS.Model.extend({title:DS.attr("string"),date:DS.attr("date"),time:DS.attr("string"),post:DS.attr("string")})}(),function(){Rs.Feedback=DS.Model.extend({name:DS.attr("string"),date:DS.attr("string"),text:DS.attr("string")})}(),function(){Rs.News=DS.Model.extend({title:DS.attr("string"),post:DS.attr("string"),imageURL:DS.attr("string")})}(),function(){Rs.Recipe=DS.Model.extend({name:DS.attr("string"),category:DS.attr("string"),imageURL:DS.attr("string"),ingredients:DS.attr("string"),directions:DS.attr("string")})}(),function(){Rs.bdayannivRoute=Ember.Route.extend({model:function(){return this.store.find("b-a")}})}(),function(){Rs.ContactsRoute=Ember.Route.extend({})}(),function(){Rs.EventsRoute=Ember.Route.extend({})}(),function(){Rs.FeedbackRoute=Ember.Route.extend({})}(),function(){Rs.LoginRoute=Ember.Route.extend({actions:{login:function(){var a=this.controllerFor("login"),b=a.get("username"),c=a.get("password"),d=this;Rs.Firebase.authWithPassword({email:b,password:c},function(b,c){console.log(c),c?(localStorage.authToken=c.token,d.transitionTo("index")):(console.warn(b),a.set("error",b.message))})}}})}(),function(){Rs.NewsRoute=Ember.Route.extend({})}(),function(){Rs.RecipeEditRoute=Ember.Route.extend({model:function(a){return this.store.find("recipe",a.id)}})}(),function(){Rs.RecipeRoute=Ember.Route.extend({model:function(a){return this.store.find("recipe",a.id)}})}(),function(){Rs.RecipeEditView=Ember.View.extend({})}(),function(){Rs.RecipeView=Ember.View.extend({})}(),function(){Rs.Router.map(function(){this.route("news"),this.route("events"),this.route("bdayanniv"),this.route("contacts"),this.route("recipes"),this.route("recipe",{path:"recipes/:id"}),this.route("recipe_edit",{path:"recipes/:id/edit"}),this.route("new_recipe",{path:"recipes/new"}),this.route("category",{path:"categories"}),this.route("feedback"),this.route("login",{path:"login"})})}(),function(){Rs.ApplicationController=Ember.Controller.extend({isLoggedIn:!1,savedTransition:null,login:function(){this.setProperties({savedTransition:null,isLoggedIn:!0})},logout:function(){this.set("isLoggedIn",!1)}}),Rs.ApplicationRoute=Ember.Route.extend({beforeModel:function(){this.controllerFor("application");localStorage.authToken?this.controllerFor("application").login():this.controllerFor("application").logout()},actions:{logout:function(){this.controllerFor("application").logout(),delete localStorage.authToken,this.transitionTo("login"),Rs.Firebase.unauth()}}}),Rs.AuthenticatedRoute=Ember.Route.extend({beforeModel:function(a){var b=this.controllerFor("application");localStorage.authToken!==Rs.Firebase.getAuth().token?(b.set("savedTransition",a),this.transitionTo("login")):this.controllerFor("application").login()}}),Rs.LoginRoute=Ember.Route.extend({actions:{login:function(){var a=this.controllerFor("login"),b=a.get("username"),c=a.get("password"),d=this;Rs.Firebase.authWithPassword({email:b,password:c},function(b,c){console.log(c),c?(localStorage.authToken=c.token,d.transitionTo("index")):(console.warn(b),a.set("error",b.message))})}}})}(),function(){Rs.CATEGORIES=[{id:"1",name:"Main Dish"},{id:"2",name:"Side Dish"},{id:"3",name:"Meat"},{id:"4",name:"Casseroles"},{id:"5",name:"Bread"},{id:"6",name:"Dessert"}],Rs.FORMWIZARD=[{id:"1",name:"Yes"},{id:"2",name:"No"}]}();